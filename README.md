# bitrix-morizo

1. В init.php реализовано сохранение utm_source в куки и также настроен обработчик OnSaleOrderSaved, который сохраняет его в свойство заказа "UTM_SOURCE" (его нужно создать)
2. Реализован импорт XML файла "/local/console/load-200000.xml" в инфоблок в файле /local/console/loadxml.php
  - если файла xml нет - можно запустить файл /local/console/loadxml.php в браузере и с помощью команды создать файл
  - также требуется указать ИД инфоблока, куда сохранять данные
  - запуск файла через консоль php -f local/console/loadxml.php load
Код тестировался на 1С-Битрикс: Управление сайтом 21.400.100 - Малый бизнес
  
Тестовое задание:
1. Сохранение дополнительных свойств в заказе. Например,  сохранить в куки значение get-параметра "utm_source" и установить его в свойстве заказа UTM_SOURCE.

2. Разработать скрипт, который можно запустить из консоли сервера. Задача скрипта - прочитать XML файл весом от 200МБ (можно попробовать вот этот взять https://ftp.acc.umu.se/mirror/wikimedia.org/dumps/eowiki/20210720/eowiki-20210720-pages-articles.xml.bz2 или любой другой большой файл - это не принципиально - важен именно размер) и заполнить ИБ данными из этого файла.
ИБ - самый примитивный, у элементов только название и описание
XML - тоже самый простой, структуру можно самому придумать - там тоже достаточно хранить для каждого элемента только наименование и описание

2.1* в конце работы скрипта по загрузке данных нужно вызвать событие "CustomMorizoTestTaskEvent" и передать в него количество успешно записанных в ИБ сущностей, а так же добавить в систему обработчик этого события, в обработчике выполнить запись переданного количества сущностей в ЛОГ файл битрикса

код задания выложить на GitHub
